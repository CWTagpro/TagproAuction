<template name="messages">
    <div class="row">
        <div class="col-sm-10 col-sm-offset-1 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    {{#if canSendMessage}}
                        <form class="new-post" id="messageSubmit">
                            <div class="input-group">
                                <input type="text" class="form-control" id="messagetext" name="text" placeholder="Type a message">
                                <span class="input-group-btn">
                                    <button class="btn btn-primary" type="submit">Send</button>
                                </span>
                            </div>
                        </form>
                    {{else}}
                        Log in to Chat
                    {{/if}}
                </div>
                <ul class="list-group" id="messageLog" style="height: 500px; overflow: scroll;overflow-x: hidden;">
                    {{> getmessages}}
                </ul>
            </div>
        </div>
    </div>
</template>

<template name="getmessages">
    {{#each lastXmessages 50}}
            <li class="list-group-item {{messageColor messageType}}" style="word-break: normal;">{{livestamp createdAt}} | {{text}}
            {{#if admin}}
                <span class="delete pull-right">X</span>
            {{/if}}
            </li>
    {{/each}}
</template>
